<body class="bg-dark d-flex flex-column">
    <i class="bi bi-arrow-left" id="backArrow" routerLink="/"></i>
    <div *ngIf="!isConfirm" class="container bg-secondary text-white border border-white rounded shadow p-3 mb-5 "
        id="registerForm">
        <form class="d-flex flex-column justify-content-center">
            <h1 class="text-center">Registrarse</h1>
            <div class=" mb-3">
                <label for="nickname" class="form-label">Usuario</label>
                <input type="text" class="form-control" id="nickname" placeholder="Usuario" [(ngModel)]="user.nickname"
                    name="nickname">
            </div>
            <div class=" mb-3">
                <label for="email" class="form-label">Email</label>
                <input type="email" class="form-control" id="email" placeholder="email@dominio.com"
                    [(ngModel)]="user.email" name="email">
            </div>
            <div class="mb-3">
                <label for="password" class="form-label">Contraseña</label>
                <div class="d-flex align-middle">
                    <input type="password" class="form-control" id="password" placeholder="Contraseña"
                        [(ngModel)]="user.password" name="password" minlength="8">
                    <span (click)="showPassword()" class="ms-1">
                        <i *ngIf="this.hidden" class="bi bi-eye-fill showPassword"></i>
                        <i *ngIf="!this.hidden" class="bi bi-eye-slash-fill showPassword"></i>
                    </span>
                </div>
            </div>
            <div class="d-flex justify-content-center">
                <button class="btn btn-success w-25" (click)="signUpWithCognito()">¡Vamos!</button>
            </div>
        </form>
    </div>

    <div *ngIf="isConfirm" class="container w-25 bg-secondary border border-white rounded shadow p-3 mb-5 text-white">
        <div>
            <h2>Introduce el código</h2>
            <p>Se ha enviado un código a {{user.email}}</p>
        </div>

        <div class="form d-flex">
            <input type="text" class="form-control" name="verificationCode" placeholder="Código de verificación"
                [(ngModel)]="user.code">
            <button class="btn btn-outline-info ms-2" (click)="confirmSignUp()">Confirmación</button>
        </div>

    </div>


    <app-alerta *ngIf="showAlert" (cerrar)="showAlert=false" [mensaje]="alertMessage"></app-alerta>
    <app-spinner *ngIf="loading"></app-spinner>
</body>